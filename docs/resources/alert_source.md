---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "incident_alert_source Resource - terraform-provider-incident"
subcategory: ""
description: |-
  Configure your alert sources in incident.io.
  Alert sources are the systems that send alerts to incident.io, which can then be routed to the right people and teams.
  We'd generally recommend building alert sources in our web dashboard https://app.incident.io/~/alerts/configuration, and using the 'Export' flow to generate your Terraform, as it's easier to see what you've configured. You can also make changes to an existing alert source and copy the resulting Terraform without persisting it.
---

# incident_alert_source (Resource)

Configure your alert sources in incident.io.

Alert sources are the systems that send alerts to incident.io, which can then be routed to the right people and teams.

We'd generally recommend building alert sources in our [web dashboard](https://app.incident.io/~/alerts/configuration), and using the 'Export' flow to generate your Terraform, as it's easier to see what you've configured. You can also make changes to an existing alert source and copy the resulting Terraform without persisting it.

## Example Usage

```terraform
## Create a basic Alert Source that receives from an SNS Topic in AWS

resource "incident_alert_source" "cloudwatch" {
  name        = "CloudWatch Alerts"
  source_type = "cloudwatch"
  template = {
    title = {
      literal = jsonencode({
        content = [
          {
            content = [
              {
                attrs = {
                  label   = "Payload → Title"
                  missing = false
                  name    = "title"
                }
                type = "varSpec"
              },
            ]
            type = "paragraph"
          },
        ]
        type = "doc"
      })
    }

    description = {
      literal = jsonencode({
        content = [
          {
            content = [
              {
                attrs = {
                  label   = "Payload → Description"
                  missing = false
                  name    = "description"
                }
                type = "varSpec"
              },
            ]
            type = "paragraph"
          },
        ]
        type = "doc"
      })
    }

    ## Bind the `team` expression to an Alert Attribute we can use to label our Alerts
    attributes = [
      {
        alert_attribute_id = data.incident_alert_attribute.team.id
        binding = {
          value = {
            ## Bind the expression below to this attribute for this Source
            reference = "expressions[\"cloudwatch-team\"]"
          }
          ## Controls how the attribute value is handled when alert fires multiple times
          merge_strategy = "first_wins"
        }
      },
    ]

    ## Query the `team` value from the endpoint referenced in the SNS Topic Subscription
    expressions = [
      {
        label = "Team"
        operations = [
          {
            operation_type = "parse"
            parse = {
              returns = {
                array = false
                ## This'll bind to some Catalog Entry Type
                type = "CatalogEntry[\"CatalogEntryID\"]"
              }
              source = "$['query_params']['team']"
            }
        }]
        reference      = "cloudwatch-team"
        root_reference = "payload"
      },
    ]
  }
}

## The `team` Alert Attribute we've configured to label Alerts and route alerts to schedules

data "incident_alert_attribute" "squad" {
  name = "Team"
}

## AWS Resources

resource "aws_sns_topic" "alerts" {
  name = "cloudwatch-alerts"
}

## SNS Topic Subscription that routes to the incident.io Alert Source created above

resource "aws_sns_topic_subscription" "incidentio_alert_source" {
  endpoint               = "https://api.incident.io/v2/alert_events/cloudwatch/${incident_alert_source.cloudwatch.id}?team=platform"
  endpoint_auto_confirms = true
  protocol               = "https"
  topic_arn              = aws_sns_topic.alerts.arn
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Unique name of the alert source
- `source_type` (String) Type of alert source
- `template` (Attributes) (see [below for nested schema](#nestedatt--template))

### Optional

- `email_address` (String) Email address this alert source receives alerts to
- `http_custom_options` (Attributes) (see [below for nested schema](#nestedatt--http_custom_options))
- `jira_options` (Attributes) (see [below for nested schema](#nestedatt--jira_options))
- `owning_team_ids` (Set of String) IDs of teams that own this alert source

### Read-Only

- `id` (String) The ID of this alert source
- `secret_token` (String) Secret token used to authenticate this source, if applicable. If applicable, this is the token that must be included in either the query string or the 'Authorization' header when sending events to this alert source.

<a id="nestedatt--template"></a>
### Nested Schema for `template`

Required:

- `attributes` (Attributes Set) Attributes to set on alerts coming from this source, with a binding describing how to set them. (see [below for nested schema](#nestedatt--template--attributes))
- `description` (Attributes) (see [below for nested schema](#nestedatt--template--description))
- `expressions` (Attributes Set) The expressions to be prepared for use by steps and conditions (see [below for nested schema](#nestedatt--template--expressions))
- `title` (Attributes) (see [below for nested schema](#nestedatt--template--title))

Optional:

- `is_private` (Boolean) Whether or not alerts produced by this source should be private
- `visible_to_teams` (Attributes) (see [below for nested schema](#nestedatt--template--visible_to_teams))

<a id="nestedatt--template--attributes"></a>
### Nested Schema for `template.attributes`

Required:

- `alert_attribute_id` (String) ID of the alert attribute to set with this binding
- `binding` (Attributes) (see [below for nested schema](#nestedatt--template--attributes--binding))

<a id="nestedatt--template--attributes--binding"></a>
### Nested Schema for `template.attributes.binding`

Optional:

- `array_value` (Attributes List) The array of literal or reference parameter values (see [below for nested schema](#nestedatt--template--attributes--binding--array_value))
- `merge_strategy` (String) Merge strategy for this attribute when alert updates. Possible values are: `first_wins`, `last_wins`, `append`, `max`, `min`.
- `value` (Attributes) The literal or reference parameter value (see [below for nested schema](#nestedatt--template--attributes--binding--value))

<a id="nestedatt--template--attributes--binding--array_value"></a>
### Nested Schema for `template.attributes.binding.array_value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter


<a id="nestedatt--template--attributes--binding--value"></a>
### Nested Schema for `template.attributes.binding.value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter




<a id="nestedatt--template--description"></a>
### Nested Schema for `template.description`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter


<a id="nestedatt--template--expressions"></a>
### Nested Schema for `template.expressions`

Required:

- `label` (String) The human readable label of the expression
- `operations` (Attributes List) The operations to execute in sequence for this expression (see [below for nested schema](#nestedatt--template--expressions--operations))
- `reference` (String) A short ID that can be used to reference the expression
- `root_reference` (String) The root reference for this expression (i.e. where the expression starts)

Optional:

- `else_branch` (Attributes) The else branch to resort to if all operations fail (see [below for nested schema](#nestedatt--template--expressions--else_branch))

<a id="nestedatt--template--expressions--operations"></a>
### Nested Schema for `template.expressions.operations`

Required:

- `operation_type` (String) Indicates which operation type to execute

Optional:

- `branches` (Attributes) An operation type that allows for a value to be set conditionally by a series of logical branches (see [below for nested schema](#nestedatt--template--expressions--operations--branches))
- `filter` (Attributes) An operation type that allows values to be filtered out by conditions (see [below for nested schema](#nestedatt--template--expressions--operations--filter))
- `navigate` (Attributes) An operation type that allows attributes of a type to be accessed by reference (see [below for nested schema](#nestedatt--template--expressions--operations--navigate))
- `parse` (Attributes) An operation type that allows a value to parsed from within a JSON object (see [below for nested schema](#nestedatt--template--expressions--operations--parse))

<a id="nestedatt--template--expressions--operations--branches"></a>
### Nested Schema for `template.expressions.operations.branches`

Required:

- `branches` (Attributes List) The branches to apply for this operation (see [below for nested schema](#nestedatt--template--expressions--operations--branches--branches))
- `returns` (Attributes) The return type of an operation (see [below for nested schema](#nestedatt--template--expressions--operations--branches--returns))

<a id="nestedatt--template--expressions--operations--branches--branches"></a>
### Nested Schema for `template.expressions.operations.branches.branches`

Required:

- `condition_groups` (Attributes List) Groups of prerequisite conditions. All conditions in at least one group must be satisfied (see [below for nested schema](#nestedatt--template--expressions--operations--branches--branches--condition_groups))
- `result` (Attributes) The result assumed if the condition groups are satisfied (see [below for nested schema](#nestedatt--template--expressions--operations--branches--branches--result))

<a id="nestedatt--template--expressions--operations--branches--branches--condition_groups"></a>
### Nested Schema for `template.expressions.operations.branches.branches.condition_groups`

Required:

- `conditions` (Attributes List) The prerequisite conditions that must all be satisfied (see [below for nested schema](#nestedatt--template--expressions--operations--branches--branches--condition_groups--conditions))

<a id="nestedatt--template--expressions--operations--branches--branches--condition_groups--conditions"></a>
### Nested Schema for `template.expressions.operations.branches.branches.condition_groups.conditions`

Required:

- `operation` (String) The logical operation to be applied
- `param_bindings` (Attributes List) Bindings for the operation parameters (see [below for nested schema](#nestedatt--template--expressions--operations--branches--branches--condition_groups--conditions--param_bindings))
- `subject` (String) The subject of the condition, on which the operation is applied

<a id="nestedatt--template--expressions--operations--branches--branches--condition_groups--conditions--param_bindings"></a>
### Nested Schema for `template.expressions.operations.branches.branches.condition_groups.conditions.param_bindings`

Optional:

- `array_value` (Attributes List) The array of literal or reference parameter values (see [below for nested schema](#nestedatt--template--expressions--operations--branches--branches--condition_groups--conditions--param_bindings--array_value))
- `value` (Attributes) The literal or reference parameter value (see [below for nested schema](#nestedatt--template--expressions--operations--branches--branches--condition_groups--conditions--param_bindings--value))

<a id="nestedatt--template--expressions--operations--branches--branches--condition_groups--conditions--param_bindings--array_value"></a>
### Nested Schema for `template.expressions.operations.branches.branches.condition_groups.conditions.param_bindings.array_value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter


<a id="nestedatt--template--expressions--operations--branches--branches--condition_groups--conditions--param_bindings--value"></a>
### Nested Schema for `template.expressions.operations.branches.branches.condition_groups.conditions.param_bindings.value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter





<a id="nestedatt--template--expressions--operations--branches--branches--result"></a>
### Nested Schema for `template.expressions.operations.branches.branches.result`

Optional:

- `array_value` (Attributes List) The array of literal or reference parameter values (see [below for nested schema](#nestedatt--template--expressions--operations--branches--branches--result--array_value))
- `value` (Attributes) The literal or reference parameter value (see [below for nested schema](#nestedatt--template--expressions--operations--branches--branches--result--value))

<a id="nestedatt--template--expressions--operations--branches--branches--result--array_value"></a>
### Nested Schema for `template.expressions.operations.branches.branches.result.array_value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter


<a id="nestedatt--template--expressions--operations--branches--branches--result--value"></a>
### Nested Schema for `template.expressions.operations.branches.branches.result.value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter




<a id="nestedatt--template--expressions--operations--branches--returns"></a>
### Nested Schema for `template.expressions.operations.branches.returns`

Required:

- `array` (Boolean) Whether the return value should be single or multi-value
- `type` (String) Expected return type of this expression (what to try casting the result to)



<a id="nestedatt--template--expressions--operations--filter"></a>
### Nested Schema for `template.expressions.operations.filter`

Required:

- `condition_groups` (Attributes List) Groups of prerequisite conditions. All conditions in at least one group must be satisfied (see [below for nested schema](#nestedatt--template--expressions--operations--filter--condition_groups))

<a id="nestedatt--template--expressions--operations--filter--condition_groups"></a>
### Nested Schema for `template.expressions.operations.filter.condition_groups`

Required:

- `conditions` (Attributes List) The prerequisite conditions that must all be satisfied (see [below for nested schema](#nestedatt--template--expressions--operations--filter--condition_groups--conditions))

<a id="nestedatt--template--expressions--operations--filter--condition_groups--conditions"></a>
### Nested Schema for `template.expressions.operations.filter.condition_groups.conditions`

Required:

- `operation` (String) The logical operation to be applied
- `param_bindings` (Attributes List) Bindings for the operation parameters (see [below for nested schema](#nestedatt--template--expressions--operations--filter--condition_groups--conditions--param_bindings))
- `subject` (String) The subject of the condition, on which the operation is applied

<a id="nestedatt--template--expressions--operations--filter--condition_groups--conditions--param_bindings"></a>
### Nested Schema for `template.expressions.operations.filter.condition_groups.conditions.param_bindings`

Optional:

- `array_value` (Attributes List) The array of literal or reference parameter values (see [below for nested schema](#nestedatt--template--expressions--operations--filter--condition_groups--conditions--param_bindings--array_value))
- `value` (Attributes) The literal or reference parameter value (see [below for nested schema](#nestedatt--template--expressions--operations--filter--condition_groups--conditions--param_bindings--value))

<a id="nestedatt--template--expressions--operations--filter--condition_groups--conditions--param_bindings--array_value"></a>
### Nested Schema for `template.expressions.operations.filter.condition_groups.conditions.param_bindings.array_value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter


<a id="nestedatt--template--expressions--operations--filter--condition_groups--conditions--param_bindings--value"></a>
### Nested Schema for `template.expressions.operations.filter.condition_groups.conditions.param_bindings.value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter






<a id="nestedatt--template--expressions--operations--navigate"></a>
### Nested Schema for `template.expressions.operations.navigate`

Required:

- `reference` (String)


<a id="nestedatt--template--expressions--operations--parse"></a>
### Nested Schema for `template.expressions.operations.parse`

Required:

- `returns` (Attributes) The return type of an operation (see [below for nested schema](#nestedatt--template--expressions--operations--parse--returns))
- `source` (String) The ES5 Javascript expression to execute

<a id="nestedatt--template--expressions--operations--parse--returns"></a>
### Nested Schema for `template.expressions.operations.parse.returns`

Required:

- `array` (Boolean) Whether the return value should be single or multi-value
- `type` (String) Expected return type of this expression (what to try casting the result to)




<a id="nestedatt--template--expressions--else_branch"></a>
### Nested Schema for `template.expressions.else_branch`

Required:

- `result` (Attributes) The result assumed if the else branch is reached (see [below for nested schema](#nestedatt--template--expressions--else_branch--result))

<a id="nestedatt--template--expressions--else_branch--result"></a>
### Nested Schema for `template.expressions.else_branch.result`

Optional:

- `array_value` (Attributes List) The array of literal or reference parameter values (see [below for nested schema](#nestedatt--template--expressions--else_branch--result--array_value))
- `value` (Attributes) The literal or reference parameter value (see [below for nested schema](#nestedatt--template--expressions--else_branch--result--value))

<a id="nestedatt--template--expressions--else_branch--result--array_value"></a>
### Nested Schema for `template.expressions.else_branch.result.array_value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter


<a id="nestedatt--template--expressions--else_branch--result--value"></a>
### Nested Schema for `template.expressions.else_branch.result.value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter





<a id="nestedatt--template--title"></a>
### Nested Schema for `template.title`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter


<a id="nestedatt--template--visible_to_teams"></a>
### Nested Schema for `template.visible_to_teams`

Optional:

- `array_value` (Attributes List) The array of literal or reference parameter values (see [below for nested schema](#nestedatt--template--visible_to_teams--array_value))
- `value` (Attributes) The literal or reference parameter value (see [below for nested schema](#nestedatt--template--visible_to_teams--value))

<a id="nestedatt--template--visible_to_teams--array_value"></a>
### Nested Schema for `template.visible_to_teams.array_value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter


<a id="nestedatt--template--visible_to_teams--value"></a>
### Nested Schema for `template.visible_to_teams.value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter




<a id="nestedatt--http_custom_options"></a>
### Nested Schema for `http_custom_options`

Required:

- `deduplication_key_path` (String) JSON path to extract the deduplication key from the payload
- `transform_expression` (String) JavaScript expression that returns an object with all alert fields


<a id="nestedatt--jira_options"></a>
### Nested Schema for `jira_options`

Optional:

- `project_ids` (List of String) Which projects in Jira should this alert source watch for new issues? IDs can either be IDs of the projects in Jira, or ID of catalog entries in the 'Jira Project' catalog type.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
#!/bin/bash

# Import an alert source using its ID
# Replace the ID with a real ID from your incident.io organization
terraform import incident_alert_source.example 01ABC123DEF456GHI789JKL
```
