---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "incident_workflow Resource - terraform-provider-incident"
subcategory: ""
description: |-
  This resource is used to manage Workflows.
  We'd generally recommend building workflows in our web dashboard https://app.incident.io/~/workflows, and using the 'Export' flow to generate your Terraform, as it's easier to see what you've configured. You can also make changes to an existing workflow and copy the resulting Terraform without persisting it. You can learn more in this Loom https://www.loom.com/share/b833d7d0fd114d6ba3f24d8c72e5208f?sid=c6d3cc3f-aa93-44ba-b12d-a0a4cbe09448.
---

# incident_workflow (Resource)

This resource is used to manage Workflows.

We'd generally recommend building workflows in our [web dashboard](https://app.incident.io/~/workflows), and using the 'Export' flow to generate your Terraform, as it's easier to see what you've configured. You can also make changes to an existing workflow and copy the resulting Terraform without persisting it. You can learn more in this [Loom](https://www.loom.com/share/b833d7d0fd114d6ba3f24d8c72e5208f?sid=c6d3cc3f-aa93-44ba-b12d-a0a4cbe09448).

## Example Usage

```terraform
# This is a workflow that automatically assigns the incident lead role to the user who acked an escalation.
resource "incident_workflow" "autoassign_incident_lead" {
  name    = "Auto-assign incident leader"
  trigger = "escalation.acked"
  expressions = [
  ]
  condition_groups = [
    {
      conditions = [
        {
          # "User who acked the escalation"
          subject   = "user"
          operation = "is_set"
          param_bindings = [
          ]
        },
      ]
    },
  ]
  steps = [
    {
      # "Assign incident roles"
      id   = "01HY0QG9WT62CEYJN8JD74MJNR" # This is the ID of the step in the workflow, and must be a ULID
      name = "incident.assign_role"
      param_bindings = [
        {
          value = {
            # "Incident"
            reference = "incident"
          }
        },
        {
          value = {
            # "Incident Lead"
            literal = "01HB0ZG24MPVF28Z5NF18DQT84" # This is the ID of the incident lead role in our workspace
          }
        },
        {
          value = {
            # "User who acked the escalation"
            reference = "user"
          }
        },
      ]
    },
  ]
  once_for = [
    # "Incident"
    "incident",
  ]
  include_private_incidents = false
  continue_on_step_error    = false
  runs_on_incidents         = "newly_created_and_active"
  runs_on_incident_modes = [
    "standard",
  ]
  state = "draft"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `condition_groups` (Attributes List) Groups of prerequisite conditions. All conditions in at least one group must be satisfied (see [below for nested schema](#nestedatt--condition_groups))
- `continue_on_step_error` (Boolean) Whether to continue executing the workflow if a step fails
- `expressions` (Attributes Set) The expressions to be prepared for use by steps and conditions (see [below for nested schema](#nestedatt--expressions))
- `include_private_incidents` (Boolean) Whether to include private incidents
- `name` (String) Name provided by the user when creating the workflow
- `once_for` (List of String) This workflow will run 'once for' a list of references
- `runs_on_incident_modes` (Set of String) Which incident modes should this workflow run on? By default, workflows only run on standard incidents, but can also be configured to run on test and retrospective incidents.
- `runs_on_incidents` (String) Which incidents should the workflow be applied to?. Possible values are: `newly_created`, `newly_created_and_active`.
- `state` (String) What state this workflow is in. Possible values are: `active`, `disabled`, `draft`, `error`.
- `steps` (Attributes List) Steps that are executed as part of the workflow (see [below for nested schema](#nestedatt--steps))
- `trigger` (String) Unique name of the trigger

### Optional

- `delay` (Attributes) Configuration controlling workflow delay behaviour (see [below for nested schema](#nestedatt--delay))
- `folder` (String) Folder to display the workflow in
- `shortform` (String) The shortform used to trigger this workflow (only applicable for manual triggers)

### Read-Only

- `id` (String) Unique identifier for the workflow

<a id="nestedatt--condition_groups"></a>
### Nested Schema for `condition_groups`

Required:

- `conditions` (Attributes List) The prerequisite conditions that must all be satisfied (see [below for nested schema](#nestedatt--condition_groups--conditions))

<a id="nestedatt--condition_groups--conditions"></a>
### Nested Schema for `condition_groups.conditions`

Required:

- `operation` (String) The logical operation to be applied
- `param_bindings` (Attributes List) Bindings for the operation parameters (see [below for nested schema](#nestedatt--condition_groups--conditions--param_bindings))
- `subject` (String) The subject of the condition, on which the operation is applied

<a id="nestedatt--condition_groups--conditions--param_bindings"></a>
### Nested Schema for `condition_groups.conditions.param_bindings`

Optional:

- `array_value` (Attributes List) The array of literal or reference parameter values (see [below for nested schema](#nestedatt--condition_groups--conditions--param_bindings--array_value))
- `value` (Attributes) The literal or reference parameter value (see [below for nested schema](#nestedatt--condition_groups--conditions--param_bindings--value))

<a id="nestedatt--condition_groups--conditions--param_bindings--array_value"></a>
### Nested Schema for `condition_groups.conditions.param_bindings.array_value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter


<a id="nestedatt--condition_groups--conditions--param_bindings--value"></a>
### Nested Schema for `condition_groups.conditions.param_bindings.value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter





<a id="nestedatt--expressions"></a>
### Nested Schema for `expressions`

Required:

- `label` (String) The human readable label of the expression
- `operations` (Attributes List) The operations to execute in sequence for this expression (see [below for nested schema](#nestedatt--expressions--operations))
- `reference` (String) A short ID that can be used to reference the expression
- `root_reference` (String) The root reference for this expression (i.e. where the expression starts)

Optional:

- `else_branch` (Attributes) The else branch to resort to if all operations fail (see [below for nested schema](#nestedatt--expressions--else_branch))

<a id="nestedatt--expressions--operations"></a>
### Nested Schema for `expressions.operations`

Required:

- `operation_type` (String) Indicates which operation type to execute

Optional:

- `branches` (Attributes) An operation type that allows for a value to be set conditionally by a series of logical branches (see [below for nested schema](#nestedatt--expressions--operations--branches))
- `filter` (Attributes) An operation type that allows values to be filtered out by conditions (see [below for nested schema](#nestedatt--expressions--operations--filter))
- `navigate` (Attributes) An operation type that allows attributes of a type to be accessed by reference (see [below for nested schema](#nestedatt--expressions--operations--navigate))
- `parse` (Attributes) An operation type that allows a value to parsed from within a JSON object (see [below for nested schema](#nestedatt--expressions--operations--parse))

<a id="nestedatt--expressions--operations--branches"></a>
### Nested Schema for `expressions.operations.branches`

Required:

- `branches` (Attributes List) The branches to apply for this operation (see [below for nested schema](#nestedatt--expressions--operations--branches--branches))
- `returns` (Attributes) The return type of an operation (see [below for nested schema](#nestedatt--expressions--operations--branches--returns))

<a id="nestedatt--expressions--operations--branches--branches"></a>
### Nested Schema for `expressions.operations.branches.branches`

Required:

- `condition_groups` (Attributes List) Groups of prerequisite conditions. All conditions in at least one group must be satisfied (see [below for nested schema](#nestedatt--expressions--operations--branches--branches--condition_groups))
- `result` (Attributes) The result assumed if the condition groups are satisfied (see [below for nested schema](#nestedatt--expressions--operations--branches--branches--result))

<a id="nestedatt--expressions--operations--branches--branches--condition_groups"></a>
### Nested Schema for `expressions.operations.branches.branches.condition_groups`

Required:

- `conditions` (Attributes List) The prerequisite conditions that must all be satisfied (see [below for nested schema](#nestedatt--expressions--operations--branches--branches--condition_groups--conditions))

<a id="nestedatt--expressions--operations--branches--branches--condition_groups--conditions"></a>
### Nested Schema for `expressions.operations.branches.branches.condition_groups.conditions`

Required:

- `operation` (String) The logical operation to be applied
- `param_bindings` (Attributes List) Bindings for the operation parameters (see [below for nested schema](#nestedatt--expressions--operations--branches--branches--condition_groups--conditions--param_bindings))
- `subject` (String) The subject of the condition, on which the operation is applied

<a id="nestedatt--expressions--operations--branches--branches--condition_groups--conditions--param_bindings"></a>
### Nested Schema for `expressions.operations.branches.branches.condition_groups.conditions.param_bindings`

Optional:

- `array_value` (Attributes List) The array of literal or reference parameter values (see [below for nested schema](#nestedatt--expressions--operations--branches--branches--condition_groups--conditions--param_bindings--array_value))
- `value` (Attributes) The literal or reference parameter value (see [below for nested schema](#nestedatt--expressions--operations--branches--branches--condition_groups--conditions--param_bindings--value))

<a id="nestedatt--expressions--operations--branches--branches--condition_groups--conditions--param_bindings--array_value"></a>
### Nested Schema for `expressions.operations.branches.branches.condition_groups.conditions.param_bindings.array_value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter


<a id="nestedatt--expressions--operations--branches--branches--condition_groups--conditions--param_bindings--value"></a>
### Nested Schema for `expressions.operations.branches.branches.condition_groups.conditions.param_bindings.value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter





<a id="nestedatt--expressions--operations--branches--branches--result"></a>
### Nested Schema for `expressions.operations.branches.branches.result`

Optional:

- `array_value` (Attributes List) The array of literal or reference parameter values (see [below for nested schema](#nestedatt--expressions--operations--branches--branches--result--array_value))
- `value` (Attributes) The literal or reference parameter value (see [below for nested schema](#nestedatt--expressions--operations--branches--branches--result--value))

<a id="nestedatt--expressions--operations--branches--branches--result--array_value"></a>
### Nested Schema for `expressions.operations.branches.branches.result.array_value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter


<a id="nestedatt--expressions--operations--branches--branches--result--value"></a>
### Nested Schema for `expressions.operations.branches.branches.result.value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter




<a id="nestedatt--expressions--operations--branches--returns"></a>
### Nested Schema for `expressions.operations.branches.returns`

Required:

- `array` (Boolean) Whether the return value should be single or multi-value
- `type` (String) Expected return type of this expression (what to try casting the result to)



<a id="nestedatt--expressions--operations--filter"></a>
### Nested Schema for `expressions.operations.filter`

Required:

- `condition_groups` (Attributes List) Groups of prerequisite conditions. All conditions in at least one group must be satisfied (see [below for nested schema](#nestedatt--expressions--operations--filter--condition_groups))

<a id="nestedatt--expressions--operations--filter--condition_groups"></a>
### Nested Schema for `expressions.operations.filter.condition_groups`

Required:

- `conditions` (Attributes List) The prerequisite conditions that must all be satisfied (see [below for nested schema](#nestedatt--expressions--operations--filter--condition_groups--conditions))

<a id="nestedatt--expressions--operations--filter--condition_groups--conditions"></a>
### Nested Schema for `expressions.operations.filter.condition_groups.conditions`

Required:

- `operation` (String) The logical operation to be applied
- `param_bindings` (Attributes List) Bindings for the operation parameters (see [below for nested schema](#nestedatt--expressions--operations--filter--condition_groups--conditions--param_bindings))
- `subject` (String) The subject of the condition, on which the operation is applied

<a id="nestedatt--expressions--operations--filter--condition_groups--conditions--param_bindings"></a>
### Nested Schema for `expressions.operations.filter.condition_groups.conditions.param_bindings`

Optional:

- `array_value` (Attributes List) The array of literal or reference parameter values (see [below for nested schema](#nestedatt--expressions--operations--filter--condition_groups--conditions--param_bindings--array_value))
- `value` (Attributes) The literal or reference parameter value (see [below for nested schema](#nestedatt--expressions--operations--filter--condition_groups--conditions--param_bindings--value))

<a id="nestedatt--expressions--operations--filter--condition_groups--conditions--param_bindings--array_value"></a>
### Nested Schema for `expressions.operations.filter.condition_groups.conditions.param_bindings.array_value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter


<a id="nestedatt--expressions--operations--filter--condition_groups--conditions--param_bindings--value"></a>
### Nested Schema for `expressions.operations.filter.condition_groups.conditions.param_bindings.value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter






<a id="nestedatt--expressions--operations--navigate"></a>
### Nested Schema for `expressions.operations.navigate`

Required:

- `reference` (String)


<a id="nestedatt--expressions--operations--parse"></a>
### Nested Schema for `expressions.operations.parse`

Required:

- `returns` (Attributes) The return type of an operation (see [below for nested schema](#nestedatt--expressions--operations--parse--returns))
- `source` (String) The ES5 Javascript expression to execute

<a id="nestedatt--expressions--operations--parse--returns"></a>
### Nested Schema for `expressions.operations.parse.returns`

Required:

- `array` (Boolean) Whether the return value should be single or multi-value
- `type` (String) Expected return type of this expression (what to try casting the result to)




<a id="nestedatt--expressions--else_branch"></a>
### Nested Schema for `expressions.else_branch`

Required:

- `result` (Attributes) The result assumed if the else branch is reached (see [below for nested schema](#nestedatt--expressions--else_branch--result))

<a id="nestedatt--expressions--else_branch--result"></a>
### Nested Schema for `expressions.else_branch.result`

Optional:

- `array_value` (Attributes List) The array of literal or reference parameter values (see [below for nested schema](#nestedatt--expressions--else_branch--result--array_value))
- `value` (Attributes) The literal or reference parameter value (see [below for nested schema](#nestedatt--expressions--else_branch--result--value))

<a id="nestedatt--expressions--else_branch--result--array_value"></a>
### Nested Schema for `expressions.else_branch.result.array_value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter


<a id="nestedatt--expressions--else_branch--result--value"></a>
### Nested Schema for `expressions.else_branch.result.value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter





<a id="nestedatt--steps"></a>
### Nested Schema for `steps`

Required:

- `id` (String)
- `name` (String)
- `param_bindings` (Attributes List) Bindings for the operation parameters (see [below for nested schema](#nestedatt--steps--param_bindings))

Optional:

- `for_each` (String)

<a id="nestedatt--steps--param_bindings"></a>
### Nested Schema for `steps.param_bindings`

Optional:

- `array_value` (Attributes List) The array of literal or reference parameter values (see [below for nested schema](#nestedatt--steps--param_bindings--array_value))
- `value` (Attributes) The literal or reference parameter value (see [below for nested schema](#nestedatt--steps--param_bindings--value))

<a id="nestedatt--steps--param_bindings--array_value"></a>
### Nested Schema for `steps.param_bindings.array_value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter


<a id="nestedatt--steps--param_bindings--value"></a>
### Nested Schema for `steps.param_bindings.value`

Optional:

- `literal` (String) If set, this is the literal value of the step parameter
- `reference` (String) If set, this is the reference into the trigger scope that is the value of this parameter




<a id="nestedatt--delay"></a>
### Nested Schema for `delay`

Required:

- `conditions_apply_over_delay` (Boolean) If this workflow is delayed, whether the conditions should be rechecked between trigger firing and execution
- `for_seconds` (Number) Delay in seconds between trigger firing and running the workflow

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
#!/bin/bash

# Import a workflow using its ID
# Replace the ID with a real ID from your incident.io organization
terraform import incident_workflow.example 01ABC123DEF456GHI789JKL
```
